"use strict";document.addEventListener("DOMContentLoaded",function(){try{const n=document.documentElement,o=document.querySelector(".popup__overlay");let c=function(e){27===e.keyCode&&closePopup()},i=function(e){let t=document.querySelectorAll(".popup");t&&t.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),n&&!n.classList.contains("active")&&n.classList.add("active"),o&&!o.classList.contains("active")&&o.classList.add("active"),e.classList.add("active"),document.addEventListener("keydown",c,!0)};window.closePopup=function(){let e=document.querySelectorAll(".popup");e&&e.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),n&&n.classList.contains("active")&&n.classList.remove("active"),o&&o.classList.contains("active")&&o.classList.remove("active"),document.removeEventListener("keydown",c,!0)};let s=document.querySelectorAll(".openpopup");s&&s.forEach(function(e){let t=".popup--"+e.getAttribute("data-popup"),n=document.querySelector(t);e.addEventListener("click",function(o){if(n){if(".popup--slider"==t){let t=n.getAttribute("data-current"),o=e.getAttribute("data-apartment"),c=e.getAttribute("data-swiper-slide-index");o&&c&&(t&&t===o?t&&t==o&&window.swiperInit(null,c):(n.dataset.current=o,window.swiperInit(o,c)))}else if(".popup--map"==t){let t=e.getAttribute("data-href"),o=e.getAttribute("data-title"),c=n.querySelector(".popup__iframe"),i=n.querySelector(".popup__title");t&&c&&i&&o&&(c.src=t+"&zoom=15",i.textContent=o)}i(n)}})});let a=document.querySelectorAll(".popup__close");if(a)for(var e=0;e<a.length;e++){a[e].addEventListener("click",closePopup);var t=function(e){13===e.keyCode&&(closePopup(),document.removeEventListener("keydown",t))};a[e].addEventListener("focus",function(){document.addEventListener("keydown",t)}),a[e].addEventListener("blur",function(){document.removeEventListener("keydown",t)})}o&&o.addEventListener("click",closePopup)}catch(e){console.log(e)}});